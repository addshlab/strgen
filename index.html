<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UUIDおよびランダム文字列生成</title>
    <script src="https://cdn.jsdelivr.net/npm/@zxcvbn-ts/core@2.0.0/dist/zxcvbn-ts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@zxcvbn-ts/language-common@2.0.0/dist/zxcvbn-ts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@zxcvbn-ts/language-en@2.0.0/dist/zxcvbn-ts.js"></script>
    <style>
        .strength-meter {
            display: flex;
            align-items: center;
        }
        .strength-bar {
            height: 10px;
            width: 100px;
            margin-right: 10px;
            border-radius: 5px;
            background: #ddd;
        }
        .strength-bar span {
            display: block;
            height: 100%;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>生成された値</h1>
    <button id="regenerateButton">再生成</button>
    <p><strong>UUIDv4:</strong> <span id="uuidv4"></span></p>
    <p><strong>UUIDv7:</strong> <span id="uuidv7"></span></p>
    <h2>記号+数字+アルファベット</h2>
    <p><strong>12文字のランダム文字列:</strong> <span id="random12_symbols_numbers_alphabets"></span></p>
    <p><strong>16文字のランダム文字列:</strong> <span id="random16_symbols_numbers_alphabets"></span></p>
    <p><strong>32文字のランダム文字列:</strong> <span id="random32_symbols_numbers_alphabets"></span></p>
    <h2>数字+アルファベット</h2>
    <p><strong>12文字のランダム文字列:</strong> <span id="random12_numbers_alphabets"></span></p>
    <p><strong>16文字のランダム文字列:</strong> <span id="random16_numbers_alphabets"></span></p>
    <p><strong>32文字のランダム文字列:</strong> <span id="random32_numbers_alphabets"></span></p>
    <script>

        const symbols = '^$*.[]{}()?!@#%&:;_~';
        const numbers = '1234567890';
        const alphabets = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';

        // UUIDv4の生成
        function generateUUIDv4() {
            return crypto.randomUUID();
        }

        // UUIDv7の生成
        function generateUUIDv7() {
            return 'tttttttt-tttt-7xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.trunc(Math.random() * 16);
                const v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            }).replace(/^[t]{8}-[t]{4}/, function() {
                const unixtimestamp = Date.now().toString(16).padStart(12, '0');
                return unixtimestamp.slice(0, 8) + '-' + unixtimestamp.slice(8);
            });
        }

        // 指定された文字数のランダム文字列生成
        function generateRandomString(length, chars = symbols + numbers + alphabets) {
            let result = '';
            for (let i = 0; i < length; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }


        // 値を更新する関数		
        function updateValues() {
            document.getElementById('uuidv4').textContent = generateUUIDv4();
            document.getElementById('uuidv7').textContent = generateUUIDv7();
            document.getElementById('random12_symbols_numbers_alphabets').textContent = generateRandomString(12);
            document.getElementById('random16_symbols_numbers_alphabets').textContent = generateRandomString(16);
            document.getElementById('random32_symbols_numbers_alphabets').textContent = generateRandomString(32);
            document.getElementById('random12_numbers_alphabets').textContent = generateRandomString(12, numbers + alphabets);
            document.getElementById('random16_numbers_alphabets').textContent = generateRandomString(16, numbers + alphabets);
            document.getElementById('random32_numbers_alphabets').textContent = generateRandomString(32, numbers + alphabets);
        }

        // ページが読み込まれたときに値を初期表示
        window.onload = updateValues;

        // ボタンがクリックされたときに値を再生成
        document.getElementById('regenerateButton').addEventListener('click', updateValues);
    </script>
</body>
</html>
