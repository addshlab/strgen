<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UUIDおよびランダム文字列生成</title>
    <style>
        .copy-button {
            margin-left: 10px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
        }
        .copy-button:hover {
            background-color: #45a049;
        }
        #notification {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            z-index: 1000;
        }
		strong {
		   font-family: monospace;
		}
		span {
		   font-family: monospace;
		}
		button {
		   font-family: monospace;
		}
    </style>
</head>
<body>
    <h1>生成された値</h1>
    <button id="regenerateButton">再生成</button>
    <p><strong>UUIDv4:</strong> <span id="uuidv4"></span> <button class="copy-button" data-target="uuidv4">copy</button></p>
    <p><strong>UUIDv7:</strong> <span id="uuidv7"></span> <button class="copy-button" data-target="uuidv7">copy</button></p>
    <h2>記号+数字+アルファベット</h2>
    <p><strong>12char:</strong> <span id="random12_symbols_numbers_alphabets"></span> <button class="copy-button" data-target="random12_symbols_numbers_alphabets">copy</button></p>
    <p><strong>16char:</strong> <span id="random16_symbols_numbers_alphabets"></span> <button class="copy-button" data-target="random16_symbols_numbers_alphabets">copy</button></p>
    <p><strong>32char:</strong> <span id="random32_symbols_numbers_alphabets"></span> <button class="copy-button" data-target="random32_symbols_numbers_alphabets">copy</button></p>
    <h2>数字+アルファベット</h2>
    <p><strong>12char:</strong> <span id="random12_numbers_alphabets"></span> <button class="copy-button" data-target="random12_numbers_alphabets">copy</button></p>
    <p><strong>16char:</strong> <span id="random16_numbers_alphabets"></span> <button class="copy-button" data-target="random16_numbers_alphabets">copy</button></p>
    <p><strong>32char:</strong> <span id="random32_numbers_alphabets"></span> <button class="copy-button" data-target="random32_numbers_alphabets">copy</button></p>
    <div id="notification"></div>
    <script>
        const symbols = '^$*.[]{}()?!@#%&:;_~';
        const numbers = '1234567890';
        const alphabets = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';

        // UUIDv4の生成
        function generateUUIDv4() {
            return crypto.randomUUID();
        }

        // UUIDv7の生成
        function generateUUIDv7() {
            return 'tttttttt-tttt-7xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.trunc(Math.random() * 16);
                const v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            }).replace(/^[t]{8}-[t]{4}/, function() {
                const unixtimestamp = Date.now().toString(16).padStart(12, '0');
                return unixtimestamp.slice(0, 8) + '-' + unixtimestamp.slice(8);
            });
        }

        // 指定された文字数のランダム文字列生成
        function generateRandomString(length, chars = symbols + numbers + alphabets) {
            let result = '';
            for (let i = 0; i < length; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        // 値を更新する関数
        function updateValues() {
            document.getElementById('uuidv4').textContent = generateUUIDv4();
            document.getElementById('uuidv7').textContent = generateUUIDv7();
            document.getElementById('random12_symbols_numbers_alphabets').textContent = generateRandomString(12);
            document.getElementById('random16_symbols_numbers_alphabets').textContent = generateRandomString(16);
            document.getElementById('random32_symbols_numbers_alphabets').textContent = generateRandomString(32);
            document.getElementById('random12_numbers_alphabets').textContent = generateRandomString(12, numbers + alphabets);
            document.getElementById('random16_numbers_alphabets').textContent = generateRandomString(16, numbers + alphabets);
            document.getElementById('random32_numbers_alphabets').textContent = generateRandomString(32, numbers + alphabets);
        }

        // クリップボードにコピーする関数
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification('コピーしました!');
            }, (err) => {
                showNotification('コピーに失敗しました: ' + err);
            });
        }

        // 通知メッセージを表示する関数
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 2000);
        }

        // コピーボタンのクリックイベントを設定
        document.querySelectorAll('.copy-button').forEach(button => {
            button.addEventListener('click', function() {
                const targetId = this.getAttribute('data-target');
                const text = document.getElementById(targetId).textContent;
                copyToClipboard(text);
            });
        });

        // ページが読み込まれたときに値を初期表示
        window.onload = updateValues;

        // ボタンがクリックされたときに値を再生成
        document.getElementById('regenerateButton').addEventListener('click', updateValues);
    </script>
</body>
</html>
